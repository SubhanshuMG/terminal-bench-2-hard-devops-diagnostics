New Terminal Output:

root@c7949bce9f95:/app# cat >> validator.py << 'EOF'
>
> def compute_readiness_score(services: list, statuses: dict) -> float:
>     weight_map = {"high": 3, "medium": 2, "low": 1}
>     total = sum(weight_map[s["criticality"]] for s in services)
>     healthy = sum(
>         weight_map[s["criticality"]]
>         for s in services
>         if statuses[s["name"]]["status"] == "healthy"
>     )
>     return round(healthy / total, 4) if total else 0.0
>
> def determine_status(services: list, statuses: dict, score: float):
>     high_criticality_services = [s for s in services if s["criticality"] == "high"]
>     critical_ok = all(
>         statuses[s["name"]]["status"] == "healthy"
>         for s in high_criticality_services
>     )
>     if not critical_ok:
>         return "critical", critical_ok
>     if score >= 0.95:
>         return "healthy", critical_ok
>     if score >= 0.70:
>         return "degraded", critical_ok
>     return "not_ready", critical_ok
> EOF
root@c7949bce9f95:/app#
