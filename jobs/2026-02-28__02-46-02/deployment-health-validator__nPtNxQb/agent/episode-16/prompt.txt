New Terminal Output:

root@2c18ab8ab423:/app# cat > /tmp/fix.py << 'EOF'
> # Create a new version of the compute_startup_order function
> def compute_startup_order(services: list) -> list:
>     """
>     Return a topologically sorted startup order using Kahn's algorithm.
>     Dependencies must start before the services that depend on them.
>     """
>     names = [s["name"] for s in services]
>     deps_map = {s["name"]: s.get("dependencies", []) for s in services}
>
>     graph     = {n: [] for n in names}
>     in_degree = {n: 0 for n in names}
>
>     for svc, deps in deps_map.items():
>         for dep in deps:
>             graph[dep].append(svc)  # dep -> svc (dependency points to service)
>             in_degree[svc] += 1     # service depends on dependency
>
>     queue = deque(n for n in names if in_degree[n] == 0)
>     order = []
>     while queue:
>         node = queue.popleft()
>         order.append(node)
>         for neighbor in graph[node]:
>             in_degree[neighbor] -= 1
>             if in_degree[neighbor] == 0:
>                 queue.append(neighbor)
>     return order
> EOF
root@2c18ab8ab423:/app#
